<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>상원참치</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="banner"></div>
        <div class="nav">
          <ul id="menu">
            <li id="all" onclick="doClickMenu(this)">전체 메뉴</li>
            <li id="today" onclick="doClickMenu(this)">오늘의 메뉴</li>
            <li id="best" onclick="doClickMenu(this)">베스트 메뉴</li>
          </ul>
        </div>
      </div>
      <div class="sect1ion">
        <div class="menu-wrapper">
          <div class="menu">
            <img src="image/img_con01.jpg" />
            <div class="menu-info">
              <h6 id="cham8">참다랑어 뱃살</h6>
              <p>숙성 : <span>8일 숙성</span></p>
              <p>가격 : <span id="price-1">22,000</span></p>
              <a id="cart-0" href="#">담기</a>
              
            </div>
          </div>
          <div class="menu">
            <img src="image/img_con02.jpg" />
            <div class="menu-info">
              <h6 id="cham2">참다랑어 뱃살</h6>
              <p>숙성 : <span>2일 숙성</span></p>
              <p>가격 : <span id="price-2">10,000</span></p>
              <a id="cart-1" href="#">담기</a>
            </div>
          </div>
          <div class="menu">
            <img src="image/img_con03.jpg" />
            <div class="menu-info">
              <h6 id="cham3">참다랑어 등살</h6>
              <p>숙성 : <span>3일 숙성</span></p>
              <p>가격 : <span id="price-3">12,000</span></p>
              <a id="cart-2" href="#">담기</a>
            </div>
          </div>
          <div class="menu">
            <img src="image/img_con04.jpg" />
            <div class="menu-info">
              <h6 id="cham5">참다랑어 뱃살</h6>
              <p>숙성 : <span>5일 숙성</span></p>
              <p>가격 : <span id="price-4">16,000</span></p>
              <a id="cart-3" href="#">담기</a>
            </div>
          </div>
          <div id="soldout" class="menu" onclick="doSoldout()">
            <img src="image/img_con06.jpg" />
            <div class="menu-info">
              <h6>참다랑어 스페셜 세트</h6>
              <p>숙성 : <span>5일 숙성</span></p>
              <p>가격 : <span id="price-5">32,000</span></p>
              <a href="#" style="color: red">품절</a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer">
        <div id="order" class="order">
          <button id="payment" type="button">결제하기</button>
          <p>총 주문 금액 : <span id="totalPrice">0</span></p>
        </div>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script>
 
  
        // 1번 문제: 전체 메뉴, 오늘의 메뉴, 베스트 메뉴를 클릭하게 되면
      // 클릭한 메뉴에 아래 css를 적용할 것
      // background-color: #ffffff;
      // color: #4e4e4e;

      function doClickMenu(val){
        $('.nav ul li').on('click', function(e){
          console.log(e);
          $(val).css('backgroundColor','#ffffff').css('color','#4e4e4e');
          // 클릭하면 css 변경
          $('.nav ul li').not(val).css('backgroundColor', '#c24040').css('color','white');
          //  선택한 값 제외한 나머지는 not(val) = 적용 안함
          // target 사용해서 풀어도 됨 
          // target : 내가 클릭한 태그의 정보
          });
        }
      
      //   2번 문제: 메뉴 담기를 클릭하면 총 주문 금액에 가격 표기할 것 
      // 단, 참다랑어 세트는 품절이기 때문에 총 주문 금액에 포함될 수 없다. (0원으로 설정)
      // 4번 문제: 총 주문 금액은 10만원을 넘을 수 없다.
      // function checkPrice(){
        var sum = 0;
        var firstPrice = 0;
        $('#cart-0').click(function(){
            var firstPrice = $('#price-1').text().replace(',','');
            firstPrice = parseInt(firstPrice);
            // 문자열 정수형으로 변환
          $('#totalPrice').html((sum += firstPrice));
         if(sum > 100000){
          $('#totalPrice').html((sum -= firstPrice)); // 총 금액 10만원 넘으면 가격 한번 빼주기
           alert('총 금액은 10만원을 넘을 수 없습니다.')
           return false; 
         }
          }
           );

          
        $('#cart-1').click(function(){
            var secondPrice = $('#price-2').text().replace(',','');
            secondPrice = parseInt(secondPrice);
          $('#totalPrice').html((sum += secondPrice));
         if(sum > 100000){
          $('#totalPrice').html((sum -= firstPrice));
           alert('총 금액은 10만원을 넘을 수 없습니다.')
           return false;
         }
          }
           );

         
        $('#cart-2').click(function(){
          
            var thirdPrice = $('#price-3').text().replace(',','');
            thirdPrice = parseInt(thirdPrice);
          $('#totalPrice').html((sum += thirdPrice));
         if(sum > 100000){
          $('#totalPrice').html((sum -= firstPrice));
           alert('총 금액은 10만원을 넘을 수 없습니다.')
           return false;

         }
          }
           );

           
        $('#cart-3').click(function(){
            var lastprice = $('#price-4').text().replace(',','');
            lastprice = parseInt(lastprice);
          $('#totalPrice').html((sum += lastprice));
         if(sum > 100000){
          $('#totalPrice').html((sum -= firstPrice));
           alert('총 금액은 10만원을 넘을 수 없습니다.')
           return false;
         }
          }
           );

        
      $('#payment').on('click',function(){
        // 3번 문제: 결제하기를 눌렀을 때 총 주문 금액이 0원 이면 
      // '메뉴를 선택하세요!'라는 alert창 띄우기
          var total = $('#total').text();
          if(total === '0'){
          alert("메뉴를 선택하세요!");
          return false;
          }
        
      var checkMenuList = '';
         var putOnTheCart = $('.menu-wrapper').children();
         console.log(putOnTheCart)
          for(i=0; i<putOnTheCart.length-1; i++){
          var putOnTheCartId = putOnTheCart[i].innerText
          checkMenuList += putOnTheCartId
          
        }
        confirm("주문한 참치는 " +checkMenuList + "입니다");
    }); // 어떻게 하는건데 ㅠ
    
      
      // 6번 문제: 모든 조건을 만족하면 
      // '주문한 참치는 참다랑어 뱃살 8일 숙성 2개, 참다랑어 등살 3일 숙성1개 입니다.
      // 주문하시겠습니까?' 라는 confirm창 띄우기

         
    
      
        function doSoldout(){
      // 5번 문제: 참다랑어 세트를 클릭하면 
      // '죄송합니다. 참다랑어 세트는 품절입니다.'라는 alert창 띄우기
         alert('죄송합니다. 참다랑어 세트는 품절입니다 ㅠㅁㅠ');
        }
      
      
    </script>
  </body>
</html>
