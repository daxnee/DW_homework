<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="form-wrapper">
        <h3>스똬벅스 회원가입</h3>
        <input id="name" type="" placeholder="회원이름을 입력해주세요..."  />
        <input id="nickName" type="" placeholder="사용할 닉네임을 입력해주세요..."  />
        <div class="email-box">
          <input id="email" type="text" placeholder="이메일을 입력해주세요..." />
          <span>@</span>
          <select id="emailList">
            <option value="none" selected>직접입력</option>
            <option value="naver">naver.com</option>
            <option value="gmail">gmail.com</option>
            <option value="hanmail">hanmail.net</option>
            <option value="nate">nate.com</option>
          </select>
        </div>
        <input id="phone" type="text"
          placeholder="연락처를 입력해주세요...(번호만 입력하세요)"
        />
        <div class="question-box">
          <span>회원가입에 동의하나요?</span>
          <input id="checkBox" type="checkbox" />
        </div>
        <div class="join-btn">
          <button id="btn" type="button">회원 가입</button>
        </div>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script>
      // 문제 1. 
      //   회원가입 버튼 눌렀을 때, 빈칸 혹은 체크하지 못한 부분이 있다면
      //   '내용을 확인해주세요!'하는 alert을 보여주고 focus 하시오. on click
      $('#btn').on('click', function(){
        var inputBoxChildren = $('.form-wrapper').children()
        // console.log(inputBoxChildren)
          for(var i=1; i<inputBoxChildren.length; i++){
            var elementId = inputBoxChildren[i].id;
            console.log(elementId)
            var elementValue = $('#' + elementId).val();
            console.log(elementValue)
            if(inputBoxChildren[i].nodeName === 'INPUT'){
              // 각기 다른 div로 묶여 있어서 json의 nodeName으로 걸러주기!
              if(elementValue === ''){
              alert('빈칸을 입력해주세요!')
              $('#' + elementId).focus();
              return false;
              }
            }
            if((elementId === 'name' || elementId === 'nickName') && elementValue.length > 20){
              alert('이름과 닉네임은 20글자 이하로 설정해주세요!')
              return false; 
            }
            
            // var email = $('#email').val().trim();
            // if(email === ''){
            //   alert('email을 체크해주세요!')
            //   return false;
            //   $('#email').focus();
            // }

            if(!$('#checkBox').is(':checked')){
              alert('회원가입에 동의 해주세요!');
              return false;
              $('#checkBox').focus();
            }

          // 회원이름과 닉네임은 20글자 이하고 한글만 사용할 수 있습니다. if문 실행
         

        } 
        });


          // 문제 2.
          // 연락처에 '-'를 작성하면 회원가입 버튼을 눌렀을 때 제거하시오. split
          // ex) 010-4097-0823 -> 01040970823
          
        
       function onlyKorName(name){
          var regonlyNum = /^[가-힣]+$/;
          var isName = regonlyNum.test(name);
         return isName;
       };

       function onlyNumber(phone){
         var regonlyNum = /^[0-9]/g;
         var isPhone = regonlyNum.test(phone)
         return isPhone;
       }
      

       function docheckEmail(email){
          var regonlyEmail = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
          var isEmail = regonlyEmail.test(email);
         return isEmail; 
       };
          
        
  
          // https://life-clock-notepad.tistory.com/6
        // 문제 4.  
        // 모든 조건을 만족하고 회원가입 버튼을 누르면
        // input데이터를 json으로 만들어 console.log에 출력하시오. 
  
    </script>
  </body>
</html>